<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>C Programming Quiz - Strings, Structures, DMA & Files</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f4f6fa;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
    }
    .section {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin: 20px auto;
      padding: 20px;
      max-width: 800px;
    }
    .question {
      margin-bottom: 20px;
      padding: 10px;
      border-bottom: 1px solid #eee;
    }
    label {
      display: block;
      margin-left: 20px;
    }
    button {
      background-color: #0078d7;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }
    button:hover {
      background-color: #005fa3;
    }
    .result {
      margin-top: 15px;
      font-weight: bold;
      color: green;
    }
    .correct {
      color: green;
      font-weight: bold;
    }
    .incorrect {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>C Programming Quiz</h1>

<!-- ===== Strings Section ===== -->
<div class="section" id="strings">
  <h2>Section 1: Strings in C</h2>
</div>

<!-- ===== Structures Section ===== -->
<div class="section" id="structures">
  <h2>Section 2: Structures in C</h2>
</div>

<!-- ===== Dynamic Memory Allocation Section ===== -->
<div class="section" id="dma">
  <h2>Section 3: Dynamic Memory Allocation in C</h2>
</div>

<!-- ===== File Handling Section ===== -->
<div class="section" id="files">
  <h2>Section 4: File Handling in C</h2>
</div>

<script>
const quizData = {
  strings: [
    {q: "Which library must be included to use string functions in C?", options:["<string.h>","<stdlib.h>","<stdio.h>","<ctype.h>"], answer:0},
    {q: "What does strlen() return?", options:["Length of string including null","Length of string excluding null","Number of words","Number of characters minus one"], answer:1},
    {q: "Which function copies one string to another?", options:["strcpy()","strcat()","strcmp()","strlen()"], answer:0},
    {q: "What is the output of strlen('Hello\\0World')?", options:["5","10","11","0"], answer:0},
    {q: "What is the null character in C strings?", options:["' '","'\\n'","'\\0'","EOF"], answer:2},
    {q: "Which function concatenates two strings?", options:["strcat()","strcpy()","strcmp()","strlen()"], answer:0},
    {q: "What does strcmp() return when strings are equal?", options:["1","0","-1","True"], answer:1},
    {q: "Which of the following initializes a string properly?", options:["char s[5] = {'h','e','l','l','o'};","char s[] = 'hello';","char s[] = \"hello\";","string s = \"hello\";"], answer:2},
    {q: "Can you modify a string literal?", options:["Yes","No"], answer:1},
    {q: "What does strrev() do?", options:["Reverses a string","Compares two strings","Joins strings","Copies string"], answer:0},
    {q: "Which function searches a character in a string?", options:["strchr()","strfind()","strloc()","strpos()"], answer:0},
    {q: "What does strncpy() do?", options:["Copies part of a string","Compares part of a string","Appends a string","Finds substring"], answer:0},
  ],
  structures: [
    {q: "What keyword is used to define a structure?", options:["class","object","struct","define"], answer:2},
    {q: "How are members of a structure accessed?", options:["Dot operator","Arrow operator","Colon","Scope resolution"], answer:0},
    {q: "Can a structure contain another structure?", options:["Yes","No"], answer:0},
    {q: "What does typedef do for structures?", options:["Defines a macro","Renames structure type","Allocates memory","Initializes struct"], answer:1},
    {q: "Which operator is used to access structure members via a pointer?", options:[".","->","&","*"], answer:1},
    {q: "Can a structure contain an array?", options:["Yes","No"], answer:0},
    {q: "What happens if structure members are not initialized?", options:["They are zeroed","They hold garbage values","Compiler error","Automatically null"], answer:1},
    {q: "Can structures be passed to functions?", options:["Yes","No"], answer:0},
    {q: "Which of the following defines a structure variable?", options:["struct car myCar;","structure car myCar;","Car myCar;","new struct car;"], answer:0},
    {q: "Can we assign one structure variable to another of the same type?", options:["Yes","No"], answer:0},
    {q: "What is the size of a structure determined by?", options:["Sum of members","Largest member","Compiler padding","None"], answer:2},
    {q: "Can structures contain function pointers?", options:["Yes","No"], answer:0},
  ],
  dma: [
    {q: "Which function allocates memory dynamically?", options:["malloc()","alloc()","create()","new"], answer:0},
    {q: "Which function deallocates memory?", options:["free()","delete()","clear()","remove()"], answer:0},
    {q: "What does calloc() do differently than malloc()?", options:["Allocates initialized memory","Allocates uninitialized memory","Reallocates memory","Frees memory"], answer:0},
    {q: "What does realloc() do?", options:["Changes memory block size","Frees memory","Copies data","Creates array"], answer:0},
    {q: "Which header file is needed for malloc()?", options:["<stdlib.h>","<malloc.h>","<stdio.h>","<memory.h>"], answer:0},
    {q: "What happens if malloc() fails?", options:["Returns 0","Returns NULL","Returns -1","Crashes"], answer:1},
    {q: "What type does malloc() return?", options:["void*","int","char*","size_t"], answer:0},
    {q: "Which function sets allocated memory to zero?", options:["calloc()","malloc()","realloc()","free()"], answer:0},
    {q: "Is it necessary to free memory allocated with malloc()?", options:["Yes","No"], answer:0},
    {q: "What happens if you free() the same pointer twice?", options:["Undefined behavior","Compiler warning","No effect","Memory increases"], answer:0},
    {q: "Which of these can be used to resize dynamic arrays?", options:["realloc()","malloc()","calloc()","strcpy()"], answer:0},
    {q: "Can malloc() allocate memory for structures?", options:["Yes","No"], answer:0},
  ],
  files: [
    {q: "Which function opens a file in C?", options:["fopen()","open()","fileopen()","createfile()"], answer:0},
    {q: "Which header file is needed for file handling?", options:["<stdio.h>","<stdlib.h>","<file.h>","<string.h>"], answer:0},
    {q: "What does fopen() return?", options:["File descriptor","File pointer","Integer","Character"], answer:1},
    {q: "Which mode opens a file for reading?", options:["r","w","a","rw"], answer:0},
    {q: "Which function closes a file?", options:["fclose()","endfile()","close()","exit()"], answer:0},
    {q: "Which function reads a character from a file?", options:["fgetc()","fputc()","getc()","get()"], answer:0},
    {q: "What does feof() check?", options:["End of file","Start of file","Empty file","None"], answer:0},
    {q: "What does fprintf() do?", options:["Writes formatted data to file","Reads data from file","Prints on screen","Formats memory"], answer:0},
    {q: "Which function moves the file pointer?", options:["fseek()","ftell()","rewind()","movefile()"], answer:0},
    {q: "What does ftell() return?", options:["File size","Current position","File descriptor","Pointer"], answer:1},
    {q: "What is the correct way to write binary data?", options:["fwrite()","fprintf()","putw()","fputc()"], answer:0},
    {q: "Which mode appends data to a file?", options:["a","r+","w","r"], answer:0},
  ]
};

function renderSection(id, data) {
  const container = document.getElementById(id);
  data.forEach((item, i) => {
    const qDiv = document.createElement("div");
    qDiv.className = "question";
    qDiv.innerHTML = `<p><b>Q${i+1}:</b> ${item.q}</p>` +
      item.options.map((opt, idx) => 
        `<label><input type="radio" name="${id}_q${i}" value="${idx}"> ${opt}</label>`
      ).join("");
    container.appendChild(qDiv);
  });
  const btn = document.createElement("button");
  btn.textContent = "Submit Section";
  btn.onclick = () => checkAnswers(id, data);
  container.appendChild(btn);
  const result = document.createElement("div");
  result.className = "result";
  container.appendChild(result);
}

function checkAnswers(id, data) {
  let score = 0;
  const resultDiv = document.querySelector(`#${id} .result`);
  data.forEach((item, i) => {
    const selected = document.querySelector(`input[name="${id}_q${i}"]:checked`);
    const qDiv = document.querySelectorAll(`#${id} .question`)[i];
    qDiv.querySelectorAll("label").forEach((label, idx) => {
      label.classList.remove("correct", "incorrect");
      if (idx === item.answer) label.classList.add("correct");
    });
    if (selected) {
      if (parseInt(selected.value) === item.answer) score++;
      else {
        selected.parentElement.classList.add("incorrect");
      }
    }
  });
  resultDiv.textContent = `You scored ${score} / ${data.length}`;
}

renderSection("strings", quizData.strings);
renderSection("structures", quizData.structures);
renderSection("dma", quizData.dma);
renderSection("files", quizData.files);
</script>

</body>
</html>
